FUN=function(X) {wa_county_age[wa_county_age[, "County"]=="Total", X]/
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
age_prop
N <- 100
# Files from https://www.sos.wa.gov/elections/data-research/election-data-and-maps/reports-data-and-statistics/voter-demographics
wa_demographics_file_path <- "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/Voter Demographics Tables.xlsx"
wa_demographics_tabs <- readxl::excel_sheets(wa_demographics_file_path)
wa_county_age <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[1])
wa_county_gender <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[2])
# Create variables
age_buckets <- colnames(wa_county_age)[-c(1, ncol(wa_county_age))]
wa_counties <- unlist(wa_county_age$County)[-nrow(wa_county_age)]
genders <- colnames(wa_county_gender)[-c(1, ncol(wa_county_gender))]
return_methods <- c("dropbox", "mail", "other")
# Data engineering
## age bucket proportions
age_prop <- unlist(lapply(X=age_buckets,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]=="Total", X] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampled_ages
View(wa_county_age)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
View(wa_county_age_prop)
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop$bucket <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
View(wa_county_age_prop)
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, "bucket"] <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
sampled_ages
set.seed(496)
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampled_ages
N <- 1
age <- sampled_ages[i]
sage
age
sampled_ages
i
i <- 1
age <- sampled_ages[i]
county <- sample(x=wa_counties, size=1, prob=wa_county_age_prop[, age])
age
wa_county_age_prop[, age]
length(wa_county_age_prop[, age])
length(wa_counties)
wa_county_age_prop <- wa_county_age_prop[wa_counties, ]
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
wa_counties
wa_county_age_prop["Adams", ]
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
wa_county_age_prop["Adams", ]
wa_county_age_prop <- wa_county_age_prop[-nrow(wa_county_age_prop), ]
set.seed(496)
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampled_counties <- vector(length=N)
sampled_ages
N <- 100
set.seed(496)
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampeld_ages
sampled_ages
i <- 1
age <- sampled_ages[i]
county <- sample(x=wa_counties, size=1, prob=wa_county_age_prop[, age])
age
county
for (i in 1:N) {
age <- sampled_ages[i]
county <- sample(x=wa_counties, size=1, prob=wa_county_age_prop[, age])
sampled_counties[i] <- county
}
sampeld_counties
sampled_counties
sum(sampled_counties == "Benton") / length(sampled_counties)
sampled_ages
N <- 100000000
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampled_counties <- vector(length=N)
for (i in 1:N) {
age <- sampled_ages[i]
county <- sample(x=wa_counties, size=1, prob=wa_county_age_prop[, age])
sampled_counties[i] <- county
}
N <- 10000
set.seed(496)
sampled_ages <- sample(x=age_buckets, size=N, replace=TRUE, prob=age_prop)
sampled_counties <- vector(length=N)
for (i in 1:N) {
age <- sampled_ages[i]
county <- sample(x=wa_counties, size=1, prob=wa_county_age_prop[, age])
sampled_counties[i] <- county
}
sum(sampled_counties == "Benton") / length(sampled_counties)
sum(sampled_counties == "Thurston") / length(sampled_counties)
136508/5088509
212262/5088509
sum(sampled_counties == "Walla Walla") / length(sampled_counties)
sum(sampled_counties == "Whakiakum") / length(sampled_counties)
sum(sampled_counties == "Cowlitz") / length(sampled_counties)
for (county in wa_counties) { print(sum(sampled_counties == county) / length(sampled_counties))}
summary(wa_county_age_prop$`18-24`)
summary(wa_county_age_prop$`25-34`)
barplot(sampled_counties)
sampled_counties
barplot(sampled_counties)
histogram(sampled_counties)
hist(sampled_counties)
sampled_ages
age <- "35-44"
wa_county_age_prop[, age]
View(wa_county_age_prop)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_age_county_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age[, "Total"]
}
wa_age_county_prop <- wa_age_county_prop[-nrow(wa_age_county_prop), ]
sum(wa_age_county_prop != wa_county_age_prop)
rm(wa_county_age_prop)
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age["Total", bucket]
}
bucket <- "18-24"
wa_county_age[, bucket]
wa_county_age["Total", bucket]
wa_county_age[wa_county_age["County" == "Total", ], bucket]
wa_county_age[wa_county_age[, "County"]=="Total", bucket]
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age[wa_county_age[, "County"]=="Total", bucket]
}
bucket
wa_county_age[, bucket]
wa_county_age[wa_county_age[, "County"]=="Total", bucket]
wa_county_age[, bucket] / wa_county_age[wa_county_age[, "County"]=="Total", bucket]
wa_county_age[, bucket] / unlist(wa_county_age[wa_county_age[, "County"]=="Total", bucket])
## P(county | age bucket)
wa_county_age_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / unlist(wa_county_age[wa_county_age[, "County"]=="Total", bucket])
}
wa_county_age_prop <- wa_county_age_prop[-nrow(wa_county_age_prop), ]
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]=="Total", X] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]=="Total", X] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
X <- "Adams"
wa_county_age[, "County"]=="Total"
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
county_prop
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
names(county_prop) <- wa_counties
county_prop
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
N <- 100
# Files from https://www.sos.wa.gov/elections/data-research/election-data-and-maps/reports-data-and-statistics/voter-demographics
wa_demographics_file_path <- "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/Voter Demographics Tables.xlsx"
wa_demographics_tabs <- readxl::excel_sheets(wa_demographics_file_path)
wa_county_age <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[1])
wa_county_gender <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[2])
# Create variables
age_buckets <- colnames(wa_county_age)[-c(1, ncol(wa_county_age))]
wa_counties <- unlist(wa_county_age$County)[-nrow(wa_county_age)]
genders <- colnames(wa_county_gender)[-c(1, ncol(wa_county_gender))]
return_methods <- c("dropbox", "mail", "other")
# Data engineering
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
names(county_prop) <- wa_counties
View(wa_county_age)
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
View(wa_age_county_prop)
for (bucket in age_buckets) {
wa_county_age_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
for (bucket in age_buckets) {
wa_age_county_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
wa_age_county_prop <- wa_age_county_prop[-nrow(wa_age_county_prop), ]
View(wa_county_gender)
## P(gender | county)
wa_gender_county_prop <- data.frame("County"=wa_county_age$County)
for (gender in gender) {
wa_gender_county_prop[, gender] <- wa_county_gender[, gender] / wa_county_gender$Total
}
for (gender in genders) {
wa_gender_county_prop[, gender] <- wa_county_gender[, gender] / wa_county_gender$Total
}
wa_gender_county_prop <- wa_gender_county_prop[-nrow(wa_gender_county_prop), ]
View(wa_gender_county_prop)
# Simulate voters based on WA demographic data
set.seed(496)
N <- 100
sampled_counties <- sample(x=wa_counties, size=N, replace=TRUE, prob=county_prop)
sampled_ages
sampled_counties
county <- "King"
wa_age_county_prop[wa_age_county_prop["County" == county, ], ]
wa_age_county_prop["County" == county, ]
wa_age_county_prop[wa_age_county_prop["County", ]==county, ]
county
wa_age_county_prop %>% filter(County == county)
library(dplyr)
wa_age_county_prop %>% filter(County == county)
(wa_age_county_prop %>% filter(County == county))[-1]
sampled_counties <- sample(x=wa_counties, size=N, replace=TRUE, prob=county_prop)
sampled_ages <- vector(length=N)
for (i in 1:N) {
county <- sampled_counties[i]
age <- sample(x=age_buckets, size=1, prob=(wa_age_county_prop %>% filter(County == county))[-1])
sampled_ages[i] <- age
}
sampled_ages
# Files from https://www.sos.wa.gov/elections/data-research/election-data-and-maps/reports-data-and-statistics/voter-demographics
wa_demographics_file_path <- "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/Voter Demographics Tables.xlsx"
wa_demographics_tabs <- readxl::excel_sheets(wa_demographics_file_path)
wa_county_age <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[1])
wa_county_gender <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[2])
# Create variables
age_buckets <- colnames(wa_county_age)[-c(1, ncol(wa_county_age))]
wa_counties <- unlist(wa_county_age$County)[-nrow(wa_county_age)]
genders <- colnames(wa_county_gender)[-c(1, ncol(wa_county_gender))]
return_methods <- c("dropbox", "mail", "other")
# Data engineering
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
names(county_prop) <- wa_counties
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_age_county_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
wa_age_county_prop <- wa_age_county_prop[-nrow(wa_age_county_prop), ]
## P(gender | county)
wa_gender_county_prop <- data.frame("County"=wa_county_age$County)
for (gender in genders) {
wa_gender_county_prop[, gender] <- wa_county_gender[, gender] / wa_county_gender$Total
}
wa_gender_county_prop <- wa_gender_county_prop[-nrow(wa_gender_county_prop), ]
# Simulate voters based on WA demographic data
set.seed(496)
N <- 100
sampled_counties <- sample(x=wa_counties, size=N, replace=TRUE, prob=county_prop)
sampled_ages <- vector(length=N)
sampled_genders <- vector(length=N)
for (i in 1:N) {
county <- sampled_counties[i]
age <- sample(x=age_buckets, size=1, prob=(wa_age_county_prop %>% filter(County == county))[-1])
gender <- sample(x=gender, size=1, prob=(wa_gender_county_prop %>% filter(County == county))[-1])
sampled_ages[i] <- age
sampled_genders[i] <- gender
}
county
wa_gender_county_prop %>% filter(County == county))[-1]
(wa_gender_county_prop %>% filter(County == county))[-1]
# Files from https://www.sos.wa.gov/elections/data-research/election-data-and-maps/reports-data-and-statistics/voter-demographics
wa_demographics_file_path <- "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/Voter Demographics Tables.xlsx"
wa_demographics_tabs <- readxl::excel_sheets(wa_demographics_file_path)
wa_county_age <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[1])
wa_county_gender <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[2])
# Create variables
age_buckets <- colnames(wa_county_age)[-c(1, ncol(wa_county_age))]
wa_counties <- unlist(wa_county_age$County)[-nrow(wa_county_age)]
genders <- colnames(wa_county_gender)[-c(1, ncol(wa_county_gender))]
return_methods <- c("dropbox", "mail", "other")
# Data engineering
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
names(county_prop) <- wa_counties
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_age_county_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
wa_age_county_prop <- wa_age_county_prop[-nrow(wa_age_county_prop), ]
## P(gender | county)
wa_gender_county_prop <- data.frame("County"=wa_county_age$County)
for (gender in genders) {
wa_gender_county_prop[, gender] <- wa_county_gender[, gender] / wa_county_gender$Total
}
wa_gender_county_prop <- wa_gender_county_prop[-nrow(wa_gender_county_prop), ]
# Simulate voters based on WA demographic data
set.seed(496)
N <- 100
sampled_counties <- sample(x=wa_counties, size=N, replace=TRUE, prob=county_prop)
sampled_ages <- vector(length=N)
sampled_genders <- vector(length=N)
for (i in 1:N) {
county <- sampled_counties[i]
age <- sample(x=age_buckets, size=1, prob=(wa_age_county_prop %>% filter(County == county))[-1])
gender <- sample(x=genders, size=1, prob=(wa_gender_county_prop %>% filter(County == county))[-1])
sampled_ages[i] <- age
sampled_genders[i] <- gender
}
data.frame("county"=sampled_counties,
"age"=sampled_ages,
"gender"=sampled_genders)
simulated_voters <- data.frame("county"=sampled_counties,
"age"=sampled_ages,
"gender"=sampled_genders)
unique(simulated_voters$county)
length(unique(simulated_voters$county))
unique(simulated_voters$age)
unique(simulated_voters$gender)
wa_demographics_tabs
View(simulated_voters)
test <- simulated_voters %>% filter(county == "King")
test
(test %>% filter(gender == "Male") ) / 27
nrow(test %>% filter(gender == "Male") ) / 27
nrow(test %>% filter(gender == "Feale") ) / 27
nrow(test %>% filter(gender == "Male") ) / 27
nrow(test %>% filter(gender == "Female") ) / 27
nrow(test %>% filter(gender == "Unknown/Other") ) / 27
rm(test)
sum(simulated_voters$gender == "Unknown/Other")
getwd()
test <- read.csv("/initial_results/experiment_data.csv", header=TRUE)
test <- read.csv("C:/Users/casey/Desktop/Stat 496/Capstone/initial_results/experiment_data.csv", header=TRUE)
View(test)
sum(is.na(test$party_prediction))
sum(is.na(test$vote_democrat))
sum(is.na(test$vote_republican))
sum(is.na(test$vote_third_party))
sum(is.na(test$easy_predict))
sum(is.na(test$predict_income))
sum(is.na(test$gov_size))
# Create variables
age_bucket <- c("18-24", "25-34", "35-44", "45-54", "55-64", "65+")
gender <- c("female", "male", "unspecified")
wa_county <- c("Adams", "Asotin", "Benton", "Chelan", "Clallam", "Clark",
"Columbia", "Cowlitz", "Douglas", "Ferry", "Franklin", "Garfield",
"Grant", "Grays Harbor", "Island", "Jefferson", "King", "Kitsap",
"Kittitas", "Klickitat", "Lewis", "Lincoln", "Mason", "Okanogan",
"Pacific", "Pend Oreille", "Pierce", "San Juan", "Skagit", "Skamania",
"Snohomish", "Spokane", "Stevens", "Thurston", "Wahkiakum", "Walla Walla",
"Whatcom", "Whitman", "Yakima")
return_method <- c("dropbox", "mail", "other")
# Create voter information data frame
N <- 50
voters <- data.frame("age"=rep(NA, 50), "gender"=NA, "wa_county"=NA, "return_method"=NA)
write.csv(voters, file="voter_data.csv", row.names=FALSE)
for (i in 1:50) {
age_sample <- sample(x=1:6, size=1)
gender_sample <- sample(x=1:3, size=1)
county_sample <- sample(x=1:39, size=1)
return_sample <- sample(x=1:3, size=1)
voters[i, ] <- c(age_bucket[age_sample], gender[gender_sample],
wa_county[county_sample], return_method[return_sample])
}
View(voters)
getwd()
# Files from https://www.sos.wa.gov/elections/data-research/election-data-and-maps/reports-data-and-statistics/voter-demographics
wa_demographics_file_path <- "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/Voter Demographics Tables.xlsx"
wa_demographics_tabs <- readxl::excel_sheets(wa_demographics_file_path)
wa_county_age <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[1])
wa_county_gender <- readxl::read_excel(wa_demographics_file_path, sheet=wa_demographics_tabs[2])
# Create variables
age_buckets <- colnames(wa_county_age)[-c(1, ncol(wa_county_age))]
wa_counties <- unlist(wa_county_age$County)[-nrow(wa_county_age)]
genders <- colnames(wa_county_gender)[-c(1, ncol(wa_county_gender))]
return_methods <- c("dropbox", "mail", "other")
# Data engineering
## P(county)
county_prop <- unlist(lapply(X=wa_counties,
FUN=function(X) {wa_county_age[wa_county_age[, "County"]==X, "Total"] /
wa_county_age[wa_county_age[, "County"]=="Total", "Total"]}))
names(county_prop) <- wa_counties
## P(age bucket | county)
wa_age_county_prop <- data.frame("County"=wa_county_age$County)
for (bucket in age_buckets) {
wa_age_county_prop[, bucket] <- wa_county_age[, bucket] / wa_county_age$Total
}
wa_age_county_prop <- wa_age_county_prop[-nrow(wa_age_county_prop), ]
## P(gender | county)
wa_gender_county_prop <- data.frame("County"=wa_county_age$County)
for (gender in genders) {
wa_gender_county_prop[, gender] <- wa_county_gender[, gender] / wa_county_gender$Total
}
wa_gender_county_prop <- wa_gender_county_prop[-nrow(wa_gender_county_prop), ]
# Simulate voters based on WA demographic data
set.seed(496)
N <- 100
sampled_counties <- sample(x=wa_counties, size=N, replace=TRUE, prob=county_prop)
sampled_ages <- vector(length=N)
sampled_genders <- vector(length=N)
for (i in 1:N) {
county <- sampled_counties[i]
age <- sample(x=age_buckets, size=1, prob=(wa_age_county_prop %>% filter(County == county))[-1])
gender <- sample(x=genders, size=1, prob=(wa_gender_county_prop %>% filter(County == county))[-1])
sampled_ages[i] <- age
sampled_genders[i] <- gender
}
simulated_voters <- data.frame("county"=sampled_counties,
"age"=sampled_ages,
"gender"=sampled_genders)
?write.csv
write.csv(simulated_voters, "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/simulated_voters.csv")
write.csv(simulated_voters, "C:/Users/casey/Desktop/Stat 496/Capstone/experiment_data/simulated_voters.csv", row.names=FALSE)
test_data <- head(simulated_voters, nrows=10)
es_data
?head
test_data <- head(simulated_voters, n=10)
View(test_data)
as.character(test_data)
paste("Given the following voter data:",
test_data,
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
paste(test_data)
toString(test_data)
?apply
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X))
apply(X=test_data, MARGIN=2, FUN=function(X) paste(X))
paste("Given the following voters data:",
apply(X=test_data, MARGIN=2, FUN=function(X) paste(X)),
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
apply(X=test_data, MARGIN=2, FUN=function(X) paste(X))
apply(X=test_data, MARGIN=2, FUN=function(X) paste(X, collapse=", "))
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", "))
paste("Given the following voters data:",
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", ")),
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
paste0("Given the following voters data:",
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", ")),
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
formatted_data <- apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", "))
formatted_data
as.character(formatted_data)
paste("GIVEN", as.character(formatted_data), "PREDICT")
?paste
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse="; "))
apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", "))
formatted_data <- as.character(apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", ")))
formatted_data
unlist(formatted_data)
paste0("Given the following voters data:",
unlist(formatted_data),
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
paste(formatted_data, collapse=";")
paste(formatted_data, collapse="; ")
paste0("Given the following voters data:",
paste(formatted_data, collapse="; "),
", for each voter is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
formatted_data <- apply(X=test_data, MARGIN=1, FUN=function(X) paste(X, collapse=", "))
paste0("Voter data: ",
paste(formatted_data, collapse="; "),
", for each voter in the voter data, is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
paste0("Voter data (Washington state county, age group, gender): ",
paste(formatted_data, collapse="; "),
", for each voter in the voter data, is the voter likely to vote democrat in the next U.S. presidential election? Respond with one word, yes no or unknown")
large_formatted_data <- apply(X=simulated_voters, MARGIN=1, FUN=function(X) paste(X, collapse=", "))
prompt1 <- paste0("Voter data (Washington state county, age group, gender): ",
paste(formatted_data, collapse="; "),
", for each voter in the voter data, is the voter likely to vote democrat in the next ",
"U.S. presidential election? Respond with one word, yes no or unknown")
prompt1
View(simulated_voters)
prompt1 <- paste0("Voter data (Washington state county, age group, gender): ",
paste(large_formatted_data, collapse="; "),
", for each voter in the voter data, is the voter likely to vote democrat in the next ",
"U.S. presidential election? Respond with one word, yes no or unknown")
prompt1
writeLines(prompt1,
"C:\\Users\\casey\\Desktop\\Stat 496\\Capstone\\output_testing\\prompt1.txt")
writeLines(prompt1,
"C:\Users\casey\Desktop\Stat 496\Capstone\output_testing\prompt1.txt")
writeLines(prompt1,
"C:\\Users\\casey\\Desktop\\Stat 496\\Capstone\\output_testing\\prompt1.txt")
